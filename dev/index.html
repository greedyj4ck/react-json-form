<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSON Editor</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://bootswatch.com/5/zephyr/bootstrap.min.css" />   
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>


    <style>

        .group-add {height: 30px;}
        .rjf-form-wrapper {margin-top: 15px; border: #000 1px solid;}
        .rjf-move-down-button{width: 35px; height: 35px;}
        .rjf-move-up-button{width: 35px; height: 35px;}
        .rjf-remove-button{width: 35px; height: 35px;}
        .rjf-animate {transition: all 0.2s ease-in-out;}

    </style>

</head>
<body>


<div class="container">
<h1 style="margin-top:100px;">JSON Editor</h1>
<div class="row">

    <div class="col">
        <div id="editor_container"></div>
    </div>


    <div class="col-auto">
        <textarea id="id_editor_data" cols="40" rows="10"></textarea>
    </div>

</div>
<div class="row">

    <div class="col">
        <div id="editor_container_2"></div>
    </div>


    <div class="col-auto">
        <textarea id="id_editor_data_2" cols="40" rows="10"></textarea>
    </div>

</div>
<div class="row">

    <div class="col">
        <div id="editor_container_3"></div>
    </div>


    <div class="col-auto">
        <textarea id="id_editor_data_3" cols="40" rows="10"></textarea>
    </div>

</div>
<div class="row">

    <div class="col">
        <div id="editor_container_4"></div>
    </div>


    <div class="col-auto">
        <textarea id="id_editor_data_4" cols="40" rows="10"></textarea>
    </div>

</div>
</div>



<script type="text/javascript" src="vendor/react.development-17.0.2.js"></script>
<script type="text/javascript" src="vendor/react-dom.development-17.0.2.js"></script>
<script type="text/javascript" src="dist/react-json-form.js"></script>
<script type="text/javascript">

    let editor = new reactJsonForm.JSONForm({
        containerId: 'editor_container',
        dataInputId: 'id_editor_data',
        data: [
            "python",
            "javascript",
            "html"
        ],
        schema: {
            type: 'array',
            title: "Menu items",
            max_items: 5,
            min_items: 0,
            items: {
                type: 'string',
                title: 'Tag',
                format: 'file-url'
            }
        },
    });

    editor.render();


    let editor2 = new reactJsonForm.JSONForm({
        containerId: 'editor_container_2',
        dataInputId: 'id_editor_data_2',
        _data: [
            {
                url: '/asf/',
                new_tab: true,
                label: 'Home',
                tags: ["asf", "Asf"]
            },
            {
                url: '/asf/',
                new_tab: true,
                label: 'Home',
                tags: ["asf", "Asf"]
            }
        ],
        data: [
            {
                label: 'Hello 1',
                tags: ['1', '2'],
            },
            {
                label: 'Hello 2',
                tags: ['3', '4'],
            },
        ],
        schema: {
            type: 'array',
            title: "Menu items",
            max_items: 5,
            min_items: 0,
            items: {
                type: 'object',
                keys: {
                    label: {
                      type: 'string',
                    },
                    tags: {
                        type: 'array',
                        items: {
                            type: 'string',
                        }
                    }
                }
            }
        },
    });

    editor2.render();


    let editor3 = new reactJsonForm.JSONForm({
        containerId: 'editor_container_3',
        dataInputId: 'id_editor_data_3',
        _data: {
            site_name: 'hllo',
            twitter: '@twetsf',
        },
        schema: {
            type: 'list',
            title: 'Probes',
            order: ['site_name', 'site_title', 'logo', 'twitter'],
            additionalProperties: true,
            items: {
                type: 'dict',
                keys : {

                    tag: {type: 'string', choices: ['Evaporator','Superheat']},
                    probe: {type: 'string'},
                    label: {type: 'string'}

                }
                
            }
        },
    });

    editor3.render();

    let editor4 = new reactJsonForm.JSONForm({
        containerId: 'editor_container_4',
        dataInputId: 'id_editor_data_4',
        _data: {
            site_name: 'hllo',
            twitter: '@twetsf',
        },
        schema: {
            type: 'object',
            title: 'Settings',
            extandable: true,
            field_order: ['site_name', 'site_title', 'logo', 'twitter'],
            keys: {
                logo: {
                    type: "string"
                },
                site_name: {
                  type: 'object',
                  keys: {
                    name1: {
                        type: 'string'
                    }
                  } 
                },
                site_title: {
                    type: 'array',
                    items: {
                        type: 'string'
                    }
                },
            }
        },
    });

    editor4.render();
</script>



</body>
</html>
